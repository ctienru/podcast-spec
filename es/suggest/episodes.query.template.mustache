{
  "_source": {
    "includes": [
      "episode_id",
      "title",
      "show.title",
      "image_url"
    ]
  },
  "query": {
    "bool": {
      "should": [
        {
          "match": {
            "title.autocomplete": {
              "query": "{{query}}",
              "boost": 1
            }
          }
        },
        {
          "match": {
            "title.chinese": {
              "query": "{{query}}",
              "boost": 1
            }
          }
        },
        {
          "prefix": {
            "title.keyword": {
              "value": "{{query}}",
              "boost": 3
            }
          }
        }
      ],
      "minimum_should_match": 1
    }
  },
  "collapse": {
    "field": "show.show_id"
  },
  "sort": [
    { "_score": { "order": "desc" } },
    { "published_at": { "order": "desc" } }
  ],
  "size": {{limit}}
}
